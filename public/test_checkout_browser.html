<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
      body {
        padding: 20px;
        background: #f8f9fa;
      }
      .test-card {
        background: white;
        border-radius: 10px;
        padding: 20px;
        margin: 10px 0;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      .status-success {
        color: #28a745;
      }
      .status-error {
        color: #dc3545;
      }
      .status-warning {
        color: #ffc107;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ›’ Fluffy Planet Checkout Test</h1>

      <div class="test-card">
        <h3>ğŸ“‹ Test Instructions</h3>
        <ol>
          <li>
            <strong>Login First:</strong> <a href="/login" target="_blank">Click here to login</a> (use kyle@gmail.com /
            123456)
          </li>
          <li>
            <strong>Add to Cart:</strong> <a href="/shop" target="_blank">Go to shop</a> and add an animal to cart
          </li>
          <li>
            <strong>Test Checkout:</strong> <a href="/checkout" target="_blank">Go to checkout</a> and complete the
            process
          </li>
          <li><strong>Check Results:</strong> Look for order success page or error messages</li>
        </ol>
      </div>

      <div class="test-card">
        <h3>ğŸ”— Quick Links</h3>
        <div class="row">
          <div class="col-md-3">
            <a href="/" class="btn btn-primary w-100 mb-2">ğŸ  Homepage</a>
          </div>
          <div class="col-md-3">
            <a href="/login" class="btn btn-success w-100 mb-2">ğŸ” Login</a>
          </div>
          <div class="col-md-3">
            <a href="/shop" class="btn btn-info w-100 mb-2">ğŸ›ï¸ Shop</a>
          </div>
          <div class="col-md-3">
            <a href="/cart" class="btn btn-warning w-100 mb-2">ğŸ›’ Cart</a>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <a href="/checkout" class="btn btn-danger w-100 mb-2">ğŸ’³ Checkout</a>
          </div>
          <div class="col-md-3">
            <a href="/my-orders" class="btn btn-secondary w-100 mb-2">ğŸ“¦ My Orders</a>
          </div>
          <div class="col-md-3">
            <a href="/fluffy-admin" class="btn btn-dark w-100 mb-2">ğŸ‘‘ Admin</a>
          </div>
          <div class="col-md-3">
            <a href="/logout" class="btn btn-outline-secondary w-100 mb-2">ğŸšª Logout</a>
          </div>
        </div>
      </div>

      <div class="test-card">
        <h3>ğŸ§ª System Status Check</h3>
        <div id="statusCheck">
          <p>Checking system status...</p>
        </div>
      </div>

      <div class="test-card">
        <h3>ğŸ“ Test Credentials</h3>
        <div class="row">
          <div class="col-md-6">
            <h5>ğŸ‘¤ Customer Account</h5>
            <p><strong>Email:</strong> kyle@gmail.com</p>
            <p><strong>Password:</strong> 123456</p>
          </div>
          <div class="col-md-6">
            <h5>ğŸ‘‘ Admin Account</h5>
            <p><strong>Email:</strong> admin@fluffyplanet.com</p>
            <p><strong>Password:</strong> 123456</p>
          </div>
        </div>
      </div>

      <div class="test-card">
        <h3>ğŸ” Expected Checkout Flow</h3>
        <div class="row">
          <div class="col-md-4">
            <div class="card">
              <div class="card-body text-center">
                <h5>1ï¸âƒ£ Login</h5>
                <p>User logs in successfully</p>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card">
              <div class="card-body text-center">
                <h5>2ï¸âƒ£ Add to Cart</h5>
                <p>Animal added to shopping cart</p>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card">
              <div class="card-body text-center">
                <h5>3ï¸âƒ£ Checkout</h5>
                <p>Order processed successfully</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Check system status
      async function checkSystemStatus() {
        const statusDiv = document.getElementById("statusCheck");
        const checks = [
          { name: "Homepage", url: "/" },
          { name: "Shop", url: "/shop" },
          { name: "Login Page", url: "/login" },
          { name: "Cart Page", url: "/cart" },
        ];

        let html = '<div class="row">';

        for (const check of checks) {
          try {
            const response = await fetch(check.url);
            const status = response.ok ? "success" : "error";
            const icon = response.ok ? "âœ…" : "âŒ";
            html += `
                        <div class="col-md-3">
                            <div class="alert alert-${status === "success" ? "success" : "danger"} text-center">
                                ${icon} ${check.name}<br>
                                <small>HTTP ${response.status}</small>
                            </div>
                        </div>
                    `;
          } catch (error) {
            html += `
                        <div class="col-md-3">
                            <div class="alert alert-danger text-center">
                                âŒ ${check.name}<br>
                                <small>Error</small>
                            </div>
                        </div>
                    `;
          }
        }

        html += "</div>";
        statusDiv.innerHTML = html;
      }

      // Run status check when page loads
      document.addEventListener("DOMContentLoaded", checkSystemStatus);
    </script>
  </body>
</html>
